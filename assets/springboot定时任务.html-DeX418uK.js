import{_ as t,r as e,o as l,c,a as n,b as s,d as o,e as i}from"./app-BQzoQ3UK.js";const p={},u=n("h1",{id:"springboot定时任务",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#springboot定时任务"},[n("span",null,"SpringBoot定时任务")])],-1),r=n("h2",{id:"定时任务",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#定时任务"},[n("span",null,"定时任务")])],-1),d=n("li",null,[s("需要在springBoot启动类上添加 "),n("code",null,"@EnableScheduling"),s(" 注解表示开启定时任务")],-1),q=n("li",null,[s("在一个方法上添加 "),n("code",null,"@Scheduled"),s(" 注解表示当前任务是定时指定该方法, "),n("code",null,"@Scheduled"),s(" 需要传入 "),n("code",null,"cron"),s(" 表达式")],-1),k=n("code",null,"cron",-1),h={href:"https://qqe2.com/cron",target:"_blank",rel:"noopener noreferrer"},m=n("code",null,"cron",-1),v=i(`<h2 id="案例" tabindex="-1"><a class="header-anchor" href="#案例"><span>案例</span></a></h2><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">RequiredArgsConstructor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>scheduling<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Scheduled</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Slf4j</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PullDataTask</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Scheduled</span><span class="token punctuation">(</span>cron <span class="token operator">=</span> <span class="token string">&quot;0 5 0 * * ?&quot;</span><span class="token punctuation">)</span> <span class="token comment">// 每天零点5分调用</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">pullData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="cron表达式解释" tabindex="-1"><a class="header-anchor" href="#cron表达式解释"><span>cron表达式解释</span></a></h2><p>cron 表达式格式: {秒数} {分钟} {小时} {日期} {月份} {星期} {年份(可为空)}</p><ul><li>{秒数}{分钟} ==&gt; 允许值范围: 0~59 ,不允许为空值，若值不合法，调度器将抛出SchedulerException异常</li><li>&quot;*&quot; 代表每隔1秒钟触发；</li><li>&quot;,&quot; 代表在指定的秒数触发，比如&quot;0,15,45&quot;代表0秒、15秒和45秒时触发任务</li><li>&quot;-&quot;代表在指定的范围内触发，比如&quot;25-45&quot;代表从25秒开始触发到45秒结束触发，每隔1秒触发1次</li><li>&quot;/&quot;代表触发步进(step)，&quot;/&quot;前面的值代表初始值(&quot;&quot;等同&quot;0&quot;)，后面的值代表偏移量，比如&quot;0/20&quot;或者&quot;/20&quot;代表从0秒钟开始，每隔20秒钟触发1次，即0秒触发1次，20秒触发1次，40秒触发1次；&quot;5/20&quot;代表5秒触发1次，25秒触发1次，45秒触发1次；&quot;10-45/20&quot;代表在[10,45]内步进20秒命中的时间点触发，即10秒触发1次，30秒触发1次</li><li>{小时} ==&gt; 允许值范围: 0~23 ,不允许为空值，若值不合法，调度器将抛出SchedulerException异常,占位符和秒数一样</li><li>{日期} ==&gt; 允许值范围: 1~31 ,不允许为空值，若值不合法，调度器将抛出SchedulerException异常</li><li>{星期} ==&gt; 允许值范围: 1~7 (SUN-SAT),1代表星期天(一星期的第一天)，以此类推，7代表星期六(一星期的最后一天)，不允许为空值，若值不合法，调度器将抛出SchedulerException异常</li><li>{年份} ==&gt; 允许值范围: 1970~2099 ,允许为空，若值不合法，调度器将抛出SchedulerException异常</li></ul><p>注意：除了{日期}和{星期}可以使用&quot;?&quot;来实现互斥，表达无意义的信息之外，其他占位符都要具有具体的时间含义，且依赖关系为：年-&gt;月-&gt;日期(星期)-&gt;小时-&gt;分钟-&gt;秒数</p><h2 id="corn-经典表达式" tabindex="-1"><a class="header-anchor" href="#corn-经典表达式"><span>corn 经典表达式</span></a></h2><ul><li>&quot;30 **** ?&quot; 每半分钟触发任务</li><li>&quot;30 10 ***?&quot; 每小时的10分30秒触发任务</li><li>&quot;30 10 1**?&quot; 每天1点10分30秒触发任务</li><li>&quot;30 10 1 20* ?&quot; 每月20号1点10分30秒触发任务</li><li>&quot;30 10 1 20 10 ? *&quot; 每年10月20号1点10分30秒触发任务</li><li>&quot;30 10 1 20 10 ? 2011&quot; 2011年10月20号1点10分30秒触发任务</li><li>&quot;30 10 1 ? 10* 2011&quot; 2011年10月每天1点10分30秒触发任务</li><li>&quot;30 10 1 ? 10 SUN 2011&quot; 2011年10月每周日1点10分30秒触发任务</li><li>&quot;15,30,45****?&quot; 每15秒，30秒，45秒时触发任务</li><li>&quot;15-45****?&quot; 15到45秒内，每秒都触发任务</li><li>&quot;15/5****?&quot; 每分钟的每15秒开始触发，每隔5秒触发一次</li><li>&quot;15-30/5****?&quot; 每分钟的15秒到30秒之间开始触发，每隔5秒触发一次</li><li>&quot;0 0/3** *?&quot; 每小时的第0分0秒开始，每三分钟触发一次</li><li>&quot;0 15 10 ?* MON-FRI&quot; 星期一到星期五的10点15分0秒触发任务</li><li>&quot;0 15 10 L *?&quot; 每个月最后一天的10点15分0秒触发任务</li><li>&quot;0 15 10 LW* ?&quot; 每个月最后一个工作日的10点15分0秒触发任务</li><li>&quot;0 15 10 ? *5L&quot; 每个月最后一个星期四的10点15分0秒触发任务</li><li>&quot;0 15 10 ?* 5#3&quot; 每个月第三周的星期四的10点15分0秒触发任务</li></ul>`,8),g={href:"https://qqe2.com/cron",target:"_blank",rel:"noopener noreferrer"};function _(b,f){const a=e("ExternalLinkIcon");return l(),c("div",null,[u,r,n("ol",null,[d,q,n("li",null,[k,s(" 表达式可以在 "),n("a",h,[s("https://qqe2.com/cron"),o(a)]),s(" 调试"),m,s("表达式是否是想要的执行")])]),v,n("blockquote",null,[n("p",null,[s("ps: corn在线表达式网站: "),n("a",g,[s("https://qqe2.com/cron"),o(a)])])])])}const x=t(p,[["render",_],["__file","springboot定时任务.html.vue"]]),E=JSON.parse('{"path":"/dev/java/springboot%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1.html","title":"SpringBoot定时任务","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"定时任务","slug":"定时任务","link":"#定时任务","children":[]},{"level":2,"title":"案例","slug":"案例","link":"#案例","children":[]},{"level":2,"title":"cron表达式解释","slug":"cron表达式解释","link":"#cron表达式解释","children":[]},{"level":2,"title":"corn 经典表达式","slug":"corn-经典表达式","link":"#corn-经典表达式","children":[]}],"git":{"updatedTime":1717731361000,"contributors":[{"name":"黑色的小火苗","email":"jiashuaijie@yeah.net","commits":1}]},"filePathRelative":"dev/java/springboot定时任务.md","excerpt":"\\n<h2>定时任务</h2>\\n<ol>\\n<li>需要在springBoot启动类上添加 <code>@EnableScheduling</code>  注解表示开启定时任务</li>\\n<li>在一个方法上添加 <code>@Scheduled</code> 注解表示当前任务是定时指定该方法, <code>@Scheduled</code> 需要传入 <code>cron</code> 表达式</li>\\n<li><code>cron</code> 表达式可以在 <a href=\\"https://qqe2.com/cron\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://qqe2.com/cron</a> 调试<code>cron</code>表达式是否是想要的执行</li>\\n</ol>"}');export{x as comp,E as data};
